<!DOCTYPE html>
<html lang="en">

<head>
   <!-- JS, Popper.js, and jQuery -->
   <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"></script>
   <!-- CSS only -->
   <!-- CSS bootstrap -->
   <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
   <!-- CSS bootstrap datatables  -->
   <link href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css" rel="stylesheet">
   <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css" />
   <!-- CSS bootstrap datatables select  -->
   <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
   <!-- CSS bootstrap lines sidebar  -->
   <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />
   <!-- CSS bootstrap sidebar  -->
   <link rel="stylesheet" href="../css/style.css">
   <!-- JS and jQuery -->
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"></script>
   <!--JS datatables  -->
   <!-- CSS bootstrap select  -->
   <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
   <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
   <!-- Font Awesome -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
   <!-- Datepicker -->
   <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
   <!-- Datepicker -->
   <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
   <!-- Datatables -->
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
   <script type="text/javascript"
      src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.20/b-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/r-2.2.3/datatables.min.js">
      </script>
   <!-- Momentjs -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
   <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
   <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
   <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

   <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
   <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
   <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>

   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

     <!-- Buttons -->
  <link
  href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.dataTables.min.css"
  rel="stylesheet"
  type="text/css"
/>
<script src="https://cdn.datatables.net/buttons/2.0.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.html5.min.js"></script>
  <!-- Select2 plugin -->
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css"
  />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>

</head>


<%- include("partials/sidebar_top") %>
   <!-- Sidebar Ends -->

   <!-- Main Component -->
   <div class="main">
      <nav class="navbar navbar-expand">
         <button class="toggler-btn" type="button">
            <i class="lni lni-text-align-left"></i>
         </button>
      </nav>
      <main class="p-3">
         <div class="container-fluid">
            <h1 class="text-center text-primary mt-2 mb-2"></h1>
            <div class="card">

               <div class="card-header">
                  <div class="row">
                     <div class="col-lg-9">Tablas</div>
                     <div class="col-lg-3">
                        <select name="column_name" id="column_name" class="form-control selectpicker"
                           data-none-selected-text="Ocultar Columna..." data-live-search="true" multiple>
                           <option value="0">Estado</option>
                           <option value="1">Descripcion_del_CI</option>
                           <option value="2">id_del_ci</option>
                           <option value="3">Piso</option>
                           <option value="4">ID_de_inicio_de_sesion</option>
                           <option value="5">telefono</option>
                           <option value="6">usuario</option>
                           <option value="7">Nombre_Completo</option>
                        </select>
                     </div>

                  </div>
               </div>
               <div class="card-body">
                  <div class="table-responsive">
                     <table class="table app-table-hover mb-0 text-left">
                        <thead>
                           <tr>
                              <th class="cell">Order</th>
                              <th class="cell">Product</th>
                              <th class="cell">Customer</th>
                              <th class="cell">Date</th>
                              <th class="cell">Status</th>
                              <th class="cell">Total</th>
                              <th class="cell"></th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td class="cell">#15346</td>
                              <td class="cell"><span class="truncate">Lorem ipsum dolor sit amet eget volutpat erat</span></td>
                              <td class="cell">John Sanders</td>
                              <td class="cell"><span>17 Oct</span><span class="note">2:16 PM</span></td>
                              <td class="cell"><span class="badge bg-success">Paid</span></td>
                              <td class="cell">$259.35</td>
                              <td class="cell"><a class="btn-sm app-btn-secondary" href="#">View</a></td>
                           </tr>
                           <tr>
                              <td class="cell">#15345</td>
                              <td class="cell"><span class="truncate">Consectetur adipiscing elit</span></td>
                              <td class="cell">Dylan Ambrose</td>
                              <td class="cell"><span class="cell-data">16 Oct</span><span class="note">03:16 AM</span></td>
                              <td class="cell"><span class="badge bg-warning">Pending</span></td>
                              <td class="cell">$96.20</td>
                              <td class="cell"><a class="btn-sm app-btn-secondary" href="#">View</a></td>
                           </tr>
                           <tr>
                              <td class="cell">#15344</td>
                              <td class="cell"><span class="truncate">Pellentesque diam imperdiet</span></td>
                              <td class="cell">Teresa Holland</td>
                              <td class="cell"><span class="cell-data">16 Oct</span><span class="note">01:16 AM</span></td>
                              <td class="cell"><span class="badge bg-success">Paid</span></td>
                              <td class="cell">$123.00</td>
                              <td class="cell"><a class="btn-sm app-btn-secondary" href="#">View</a></td>
                           </tr>
                           
                           <tr>
                              <td class="cell">#15343</td>
                              <td class="cell"><span class="truncate">Vestibulum a accumsan lectus sed mollis ipsum</span></td>
                              <td class="cell">Jayden Massey</td>
                              <td class="cell"><span class="cell-data">15 Oct</span><span class="note">8:07 PM</span></td>
                              <td class="cell"><span class="badge bg-success">Paid</span></td>
                              <td class="cell">$199.00</td>
                              <td class="cell"><a class="btn-sm app-btn-secondary" href="#">View</a></td>
                           </tr>
                           
                           <tr>
                              <td class="cell">#15342</td>
                              <td class="cell"><span class="truncate">Justo feugiat neque</span></td>
                              <td class="cell">Reina Brooks</td>
                              <td class="cell"><span class="cell-data">12 Oct</span><span class="note">04:23 PM</span></td>
                              <td class="cell"><span class="badge bg-danger">Cancelled</span></td>
                              <td class="cell">$59.00</td>
                              <td class="cell"><a class="btn-sm app-btn-secondary" href="#">View</a></td>
                           </tr>
                           
                           <tr>
                              <td class="cell">#15341</td>
                              <td class="cell"><span class="truncate">Morbi vulputate lacinia neque et sollicitudin</span></td>
                              <td class="cell">Raymond Atkins</td>
                              <td class="cell"><span class="cell-data">11 Oct</span><span class="note">11:18 AM</span></td>
                              <td class="cell"><span class="badge bg-success">Paid</span></td>
                              <td class="cell">$678.26</td>
                              <td class="cell"><a class="btn-sm app-btn-secondary" href="#">View</a></td>
                           </tr>

                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
         </div>
      </main>

      <%- include("partials/sidebar_down") %>



         <!-- script for datatable -->
         <script>



            var dataTable = $('#example').DataTable({
               dom: "Bfrtlip",
               buttons: [
        'copy', 'excel', 'csv'
    ],
               lengthMenu: [10, 15, 20, 100, 200, 500],
               columnDefs: [
                  { className: "centered", targets: [0, 1, 2, 3, 4, 5, 6] },
                  { orderable: false, targets: [5] },
                  { searchable: false, targets: [1] }
               ],
               "oLanguage": {
                  "sSearch": "Busqueda Rapida:"

               },
               language: {
                  lengthMenu: 'Mostrar _MENU_ Filas'
               },
               "processing": true,
               "serverSide": true,
               "order": [],
               'ajax': {
                  url: '/get_data_inicio',
                  type: "get"
               },
               'order': [],
               'columns': [
                  { data: 'Estado' },
                  { data: 'Descripcion_del_CI' },
                  { data: 'id_del_ci' },
                  { data: 'Piso' },
                  {
                     data: 'ID_de_inicio_de_sesion',
                     render: function (data, type) {
                        var number = DataTable.render
                           .number(',', '.', 2, '$')
                           .display(data);

                        if (type === 'display') {
                           let color = 'orange';
                           if (data < 250000) {
                              color = 'red';
                           }
                           else if (data < 500000) {
                              color = 'blue';
                           }

                           return `<span  style="color:${color}">${number}</span>`;
                        }

                        return number;
                     }
                  },
                  { data: 'telefono' },
                  { data: 'usuario' },
                  { data: 'Nombre_Completo' }

               ]
            });

            $('#column_name').selectpicker({
               noneSelectedText: 'Please Select' 
            });

            $('#column_name').change(function () {
               var all_column = ["0", "1", "2", "3", "4", "5", "6", "7"];
               var remove_column = $('#column_name').val();
               var remaining_column = all_column.filter(function (obj) { return remove_column.indexOf(obj) == -1; });
               dataTable.columns(remove_column).visible(false);
               dataTable.columns(remaining_column).visible(true);

            });


         </script>



